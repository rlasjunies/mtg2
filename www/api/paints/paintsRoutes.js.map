{"version":3,"sources":["paints/paintsRoutes.ts"],"names":["create","find","remove","update"],"mappings":"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","file":"paints/paintsRoutes.js","sourcesContent":["import * as e from \"express\";\r\nimport * as $log from \"../services/logger\";\r\nimport * as $paintsModel from \"../shared/paints\";\r\n\r\nvar moduleName = \"paintsRoutes@\";\r\n\r\n//Create\r\nexport function create(expReq: e.xRequest<e.IRouteParamId>, expRes: e.Response, next:Function) {\r\n    $log.profile(moduleName + \"@create\");\r\n    //$log.debug(moduleName + \"@create\\n\" + expReq.body);\r\n\r\n    var paintModel = $paintsModel.paintModel();\r\n    var newPaint = new paintModel(expReq.body);\r\n    newPaint.validate(function (err: any) {\r\n        newPaint.save<$paintsModel.IPaintDocument>((err, paint) => {\r\n            if (err) { return expRes.status(500).write({ message: \"Error writing job!\" }); }\r\n\r\n            $log.debug(moduleName + \"@create:\\n\" + paint);\r\n            $log.profile(moduleName + \"@create\");\r\n            return expRes.status(200).send(paint);\r\n        });\r\n    });\r\n};\r\n\r\n//find\r\nexport function find(expReq: e.xRequest<e.IRouteParamId>, expRes: e.Response, next:Function) {\r\n    $log.profile(moduleName + \"@find\");\r\n\r\n        var paints: $paintsModel.IPaintModel = $paintsModel.paintModel();\r\n\r\n        var qry = {};\r\n        if (expReq.params.id) {\r\n            qry = { _id: expReq.params.id };\r\n        }\r\n\r\n        paints.find(qry,(err, paint) => {\r\n            if (err) {\r\n                return expRes.status(500).write({ message: \"Error getting jobs!\" });\r\n            }\r\n\r\n            $log.debug(\"expReq.params.id:\" + expReq.params.id);\r\n            $log.profile(moduleName + \"@find\");\r\n            expRes.status(200).send(paint);\r\n        });\r\n    //}\r\n};\r\n\r\n//remove\r\nexport function remove(expReq: e.xRequest<e.IRouteParamId>, expRes: e.Response, next:Function) {\r\n    $log.profile(moduleName + \"@remove\");\r\n    var mdlPaints: $paintsModel.IPaintModel = $paintsModel.paintModel();\r\n\r\n    if (!expReq.params.id) {\r\n        throw new Error(\"ID parameter is required!\");\r\n    }\r\n\r\n    mdlPaints.findByIdAndRemove(expReq.params.id, (err, paints) => {\r\n        if (err) {\r\n            return expRes.status(500).write({ message: \"Error getting paints!\" });\r\n        }\r\n\r\n        $log.profile(moduleName + \"@remove\");\r\n        expRes.status(200).send(paints);\r\n    });\r\n\r\n};\r\n\r\n//update\r\nexport function update(expReq: e.xRequest<e.IRouteParamId>, expRes: e.Response, next:Function) {\r\n    $log.profile(moduleName + \"@update\");\r\n    var mdlPaints: $paintsModel.IPaintModel = $paintsModel.paintModel();\r\n    var paint = $paintsModel.paintModel();\r\n    var newPaint = new paint(expReq.body);\r\n\r\n    if (!expReq.params.id) {\r\n        throw new Error(\"Is parameter is required!\");\r\n    }\r\n\r\n    mdlPaints.findByIdAndUpdate(expReq.params.id, newPaint, (err, paints) => {\r\n        if (err) {\r\n            return expRes.status(500).write({ message: \"Error updating paint!\" });\r\n        }\r\n\r\n        $log.profile(moduleName + \"@update\");\r\n        expRes.status(200).send(paints);\r\n    });\r\n};\r\n\r\n"],"sourceRoot":"/source/"}