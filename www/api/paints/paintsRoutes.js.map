{"version":3,"sources":["paints/paintsRoutes.ts"],"names":["create","find","remove","update"],"mappings":"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","file":"paints/paintsRoutes.js","sourcesContent":["import e = require(\"express\");\r\n\r\nimport $log = require(\"../services/logger\");\r\n\r\nimport $paintsModel = require(\"../shared/paints\");\r\n\r\nvar moduleName = \"paintsRoutes@\";\r\n\r\n//Create\r\nexport function create(expReq: e.xRequest<e.IRouteParamId>, expRes: e.Response, next:Function) {\r\n    $log.profile(moduleName + \"@create\");\r\n    //$log.debug(moduleName + \"@create\\n\" + expReq.body);\r\n\r\n    var paintModel = $paintsModel.paintModel();\r\n    var newPaint = new paintModel(expReq.body);\r\n    newPaint.validate(function (err: any) {\r\n        newPaint.save<$paintsModel.IPaintDocument>((err, paint) => {\r\n            if (err) { return expRes.status(500).write({ message: \"Error writing job!\" }); }\r\n\r\n            $log.debug(moduleName + \"@create:\\n\" + paint);\r\n            $log.profile(moduleName + \"@create\");\r\n            return expRes.status(200).send(paint);\r\n        });\r\n    });\r\n};\r\n\r\n//find\r\nexport function find(expReq: e.xRequest<e.IRouteParamId>, expRes: e.Response, next:Function) {\r\n    $log.profile(moduleName + \"@find\");\r\n\r\n        var paints: $paintsModel.IPaintModel = $paintsModel.paintModel();\r\n\r\n        var qry = {};\r\n        if (expReq.params.id) {\r\n            qry = { _id: expReq.params.id };\r\n        }\r\n\r\n        paints.find(qry,(err, paint) => {\r\n            if (err) {\r\n                return expRes.status(500).write({ message: \"Error getting jobs!\" });\r\n            }\r\n\r\n            $log.debug(\"expReq.params.id:\" + expReq.params.id);\r\n            $log.profile(moduleName + \"@find\");\r\n            expRes.status(200).send(paint);\r\n        });\r\n    //}\r\n};\r\n\r\n//remove\r\nexport function remove(expReq: e.xRequest<e.IRouteParamId>, expRes: e.Response, next:Function) {\r\n    $log.profile(moduleName + \"@remove\");\r\n    var mdlPaints: $paintsModel.IPaintModel = $paintsModel.paintModel();\r\n\r\n    if (!expReq.params.id) {\r\n        throw new Error(\"ID parameter is required!\");\r\n    }\r\n\r\n    mdlPaints.findByIdAndRemove(expReq.params.id, (err, paints) => {\r\n        if (err) {\r\n            return expRes.status(500).write({ message: \"Error getting paints!\" });\r\n        }\r\n\r\n        $log.profile(moduleName + \"@remove\");\r\n        expRes.status(200).send(paints);\r\n    });\r\n\r\n};\r\n\r\n//update\r\nexport function update(expReq: e.xRequest<e.IRouteParamId>, expRes: e.Response, next:Function) {\r\n    $log.profile(moduleName + \"@update\");\r\n    var mdlPaints: $paintsModel.IPaintModel = $paintsModel.paintModel();\r\n    var paint = $paintsModel.paintModel();\r\n    var newPaint = new paint(expReq.body);\r\n\r\n    if (!expReq.params.id) {\r\n        throw new Error(\"Is parameter is required!\");\r\n    }\r\n\r\n    mdlPaints.findByIdAndUpdate(expReq.params.id, newPaint, (err, paints) => {\r\n        if (err) {\r\n            return expRes.status(500).write({ message: \"Error updating paint!\" });\r\n        }\r\n\r\n        $log.profile(moduleName + \"@update\");\r\n        expRes.status(200).send(paints);\r\n    });\r\n};\r\n\r\n"],"sourceRoot":"/source/"}